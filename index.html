<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- åŠ¨æ€è®¾ç½®è¯­è¨€ -->
  <meta http-equiv="content-language" content="en">
  <meta name="language" content="en">
  
  <!-- å¤šè¯­è¨€æ ‡é¢˜å’Œæè¿° -->
  <title data-i18n-meta="title">Play 2048 Online | Free Puzzle Game to Merge Tiles & Score High</title>
  <meta name="description" data-i18n-meta="description" content="Play the classic 2048 puzzle game online for free. Merge tiles, challenge your skills, and aim for the 2048 tile!">
  
  <!-- å¤šè¯­è¨€é“¾æ¥å…³ç³» -->
  <link rel="canonical" href="https://play2048online.com/index.html">
  <link rel="alternate" hreflang="en" href="https://play2048online.com/index.html?lang=en">
  <link rel="alternate" hreflang="de" href="https://play2048online.com/index.html?lang=de">
  <link rel="alternate" hreflang="ja" href="https://play2048online.com/index.html?lang=ja">
  <link rel="alternate" hreflang="x-default" href="https://play2048online.com/index.html">
  <!-- Open Graph -->
  <meta property="og:title" data-i18n-meta="og_title" content="Play 2048 Online | Free Puzzle Game">
  <meta property="og:description" data-i18n-meta="og_description" content="Merge tiles to reach 2048 in this addictive browser-based puzzle game. No download required!">
  <meta property="og:image" content="https://play2048online.com/meta/2048.png">
  <meta property="og:url" content="https://play2048online.com/index.html">
  <meta property="og:type" content="game">
  <meta property="og:locale" content="en">
  <meta property="og:locale:alternate" content="de">
  <meta property="og:locale:alternate" content="ja">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" data-i18n-meta="twitter_title" content="Play 2048 Online | Free Puzzle Game">
  <meta name="twitter:description" data-i18n-meta="twitter_description" content="Instantly play 2048 in your browser. Merge, strategize, and hit that 2048 tile!">
  <meta name="twitter:image" content="https://play2048online.com/meta/2048.png">

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "VideoGame",
    "name": [
      {
        "@language": "en",
        "@value": "Play 2048 Online - Advanced Strategy Puzzle Game"
      },
      {
        "@language": "de",
        "@value": "2048 Online Spielen - Fortgeschrittenes Strategiespiel"
      },
      {
        "@language": "ja",
        "@value": "2048ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ãƒ—ãƒ¬ã‚¤ - ä¸Šç´šæˆ¦ç•¥ãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ "
      }
    ],
    "url": {
      "@type": "URL",
      "@value": "https://play2048online.com/index.html",
      "alternateName": [
        {
          "@language": "en",
          "@value": "https://play2048online.com/index.html?lang=en"
        },
        {
          "@language": "de",
          "@value": "https://play2048online.com/index.html?lang=de"
        },
        {
          "@language": "ja",
          "@value": "https://play2048online.com/index.html?lang=ja"
        }
      ]
    },
    "description": [
      {
        "@language": "en",
        "@value": "Play 2048 online with advanced start options! Begin with high-value tiles (32-512) in your chosen corner, perfect for experienced players who want to focus on advanced strategies. Free browser-based puzzle game with multilingual support."
      },
      {
        "@language": "de",
        "@value": "Spielen Sie 2048 online mit erweiterten Startoptionen! Beginnen Sie mit hochwertigen Kacheln (32-512) in Ihrer gewÃ¤hlten Ecke, ideal fÃ¼r erfahrene Spieler, die sich auf fortgeschrittene Strategien konzentrieren mÃ¶chten. Kostenloses browserbasiertes Puzzlespiel mit mehrsprachiger UnterstÃ¼tzung."
      },
      {
        "@language": "ja",
        "@value": "é«˜åº¦ãªé–‹å§‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§2048ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¤ï¼é¸æŠã—ãŸã‚³ãƒ¼ãƒŠãƒ¼ã«é«˜å¾—ç‚¹ã‚¿ã‚¤ãƒ«(32-512)ã‚’é…ç½®ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆã€‚ä¸Šç´šè€…å‘ã‘ã®æˆ¦ç•¥ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ã®ç„¡æ–™ãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ ã€‚å¤šè¨€èªå¯¾å¿œã€‚"
      }
    ],
    "genre": ["PuzzleGame", "StrategyGame"],
    "applicationCategory": "Game",
    "image": "https://play2048online.com/meta/2048.png",
    "author": {"@type":"Organization","name":"YourBrand"},
    "inLanguage": ["en", "de", "ja"],
    "gameFeature": [
      {
        "@type": "GamePlayMode",
        "name": "Advanced Start Mode",
        "description": "Start with high-value tiles (32-512) in chosen corner positions for advanced gameplay"
      },
      {
        "@type": "GamePlayMode",
        "name": "Strategic Corner Placement",
        "description": "Choose your preferred corner for optimal strategy in Play 2048 Online"
      }
    ],
    "audience": {
      "@type": "Audience",
      "audienceType": "Experienced Players",
      "description": "Perfect for players who want to skip the early game and focus on advanced 2048 strategies"
    },
    "gameDifficulty": "Advanced",
    "gamePlatform": "Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "availability": "http://schema.org/InStock"
    },
    "keywords": [
      "play 2048 online",
      "2048 game",
      "advanced 2048",
      "2048 strategy",
      "free puzzle game",
      "online strategy game",
      "browser game",
      "multilingual 2048",
      "advanced start mode",
      "corner strategy"
    ]
  }
  </script>
  <script src="https://analytics.ahrefs.com/analytics.js" data-key="PQoz9dwvClhduQYouMIvhQ" async></script>
  <link href="style/main.css?v=20250804114215" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="meta/apple-touch-icon.png">
  <link rel="apple-touch-startup-image" href="meta/apple-touch-startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"> <!-- iPhone 5+ -->
  <link rel="apple-touch-startup-image" href="meta/apple-touch-startup-image-640x920.png"  media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"> <!-- iPhone, retina -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
  <div class="container">
    <!-- ä¸‰åˆ—å¯¼èˆªæ å¸ƒå±€ -->
    <nav class="navbar">
      <div class="navbar-left">
        <h1 class="title" data-i18n="title">2048</h1>
      </div>
      
      <!-- ä¸­é—´çš„åˆ†æ•°æ˜¾ç¤ºåŒºåŸŸ -->
      <div class="navbar-center">
        <div class="scores-container">
          <div class="score-container">
            <span class="score-label" data-i18n="score">SCORE</span>
            <span class="score-value">0</span>
          </div>
          <div class="best-container">
            <span class="best-label" data-i18n="best">BEST</span>
            <span class="best-value">0</span>
          </div>
        </div>
      </div>
      
      <div class="navbar-right">
        <select id="lang-select" onchange="setLang(this.value)">
          <option value="en">English</option>
          <option value="de">Deutsch</option>
          <option value="ja">æ—¥æœ¬èª</option>
        </select>
        <a class="restart-button" data-i18n="new_game" onclick="showNewGameDialog()" ontouchend="showNewGameDialog()">New Game</a>
      </div>

      <!-- æ–°æ¸¸æˆè®¾ç½®å¯¹è¯æ¡† -->
      <div id="new-game-dialog" class="dialog">
        <div class="dialog-content">
          <h3 data-i18n="new_game_settings">New Game Settings</h3>
          <div class="dialog-body">
            <div class="setting-group">
              <label data-i18n="start_number">Starting Number:</label>
              <select id="start-number">
                <option value="2">2</option>
                <option value="4">4</option>
                <option value="8">8</option>
                <option value="16">16</option>
                <option value="32">32</option>
                <option value="64">64</option>
                <option value="128">128</option>
                <option value="256">256</option>
                <option value="512">512</option>
              </select>
            </div>
            <div class="setting-group">
              <label data-i18n="corner_position">Corner Position:</label>
              <div class="corner-selector">
                <button class="corner-btn" data-corner="0,0" data-i18n="top_left">Top Left</button>
                <button class="corner-btn" data-corner="3,0" data-i18n="top_right">Top Right</button>
                <button class="corner-btn" data-corner="0,3" data-i18n="bottom_left">Bottom Left</button>
                <button class="corner-btn" data-corner="3,3" data-i18n="bottom_right">Bottom Right</button>
              </div>
            </div>
          </div>
          <div class="dialog-footer">
            <button class="dialog-btn cancel-btn" onclick="hideNewGameDialog()" data-i18n="cancel">Cancel</button>
            <button class="dialog-btn start-btn" onclick="startNewGame()" data-i18n="start">Start</button>
          </div>
        </div>
      </div>
    </nav>

    <div class="game-container">
      <div class="game-message">
        <p></p>
        <div class="lower">
	        <a class="keep-playing-button" data-i18n="keep_going">Keep going</a>
          <a class="retry-button" data-i18n="try_again">Try again</a>
        </div>
      </div>

      <div class="grid-container">
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
      </div>

      <div class="tile-container">

      </div>
    </div>

    <!-- ç¤¾äº¤åª’ä½“åˆ†äº«åŒºåŸŸ -->
    <div class="social-share">
      <h3 class="share-title" data-i18n="share_title">Share Your Score</h3>
      <div class="social-buttons">
        <button class="social-btn twitter-btn" onclick="shareToTwitter()" title="Share on Twitter">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#1DA1F2" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
          </svg>
        </button>
        <button class="social-btn facebook-btn" onclick="shareToFacebook()" title="Share on Facebook">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#1877F2" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
          </svg>
        </button>
        <button class="social-btn linkedin-btn" onclick="shareToLinkedIn()" title="Share on LinkedIn">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#0077B5" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </button>
        <button class="social-btn reddit-btn" onclick="shareToReddit()" title="Share on Reddit">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#FF4500" d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534C4.564 12.205 4.16 11.622 4.16 10.956c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
          </svg>
        </button>
        <button class="social-btn pinterest-btn" onclick="shareToPinterest()" title="Share on Pinterest">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="#BD081C" d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24c6.624 0 11.99-5.367 11.99-12C24.007 5.367 18.641.001 12.017.001z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- æ–¹å‘é”®æŒ‡ç¤º -->
    <div class="arrow-keys">
      <div class="arrow-key arrow-up">â†‘</div>
      <div class="arrow-middle">
        <div class="arrow-key arrow-left">â†</div>
        <div class="arrow-key arrow-down">â†“</div>
        <div class="arrow-key arrow-right">â†’</div>
      </div>
    </div>

    <div class="how-to-play">
      <div class="how-to-play-icon">ğŸ®</div>
      <div class="how-to-play-content">
        <strong data-i18n="how_to_play">How to play:</strong> <span data-i18n="how_to_play_desc">Use your <strong>arrow keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong></span>
      </div>
    </div>

    <div class="tips-section">
      <h3 class="tips-title" data-i18n="pro_tips_title">Pro Tips for 2048</h3>
      <div class="tips-grid">
        <div class="tip-card">
          <div class="tip-number">1</div>
          <h4 data-i18n="tip1_title">Anchor Your Biggest Tile</h4>
          <p data-i18n="tip1_desc">Pick one corner as your "home" for the highest value (working toward 2048). Always slide toward that corner first, and avoid moves that pull it away. This stable anchor keeps your path to 2048 clear.</p>
        </div>
        <div class="tip-card">
          <div class="tip-number">2</div>
          <h4 data-i18n="tip2_title">Build a Descending "Snake"</h4>
          <p data-i18n="tip2_desc">Arrange tiles in a smooth decreasing order from your chosen corner: for example, 512â€“256â€“128â€“64 along the top row, then continue down. This staircase layout makes merging toward 2048 predictable.</p>
        </div>
        <div class="tip-card">
          <div class="tip-number">3</div>
          <h4 data-i18n="tip3_title">Stick to Two Directions</h4>
          <p data-i18n="tip3_desc">Use just Left and Down (if your corner is bottomâ€‘left) for most moves. Limiting yourself avoids accidental shifts that break your snake and set back your 2048 goal. Only use Up or Right to escape a deadlock.</p>
        </div>
        <div class="tip-card">
          <div class="tip-number">4</div>
          <h4 data-i18n="tip4_title">Plan Merges Ahead</h4>
          <p data-i18n="tip4_desc">Before each swipe, ask:<br><br>Will this merge help build toward 2048?<br><br>Can I keep my highest tile anchored?<br><br>Am I opening space for the next spawn?<br><br>Thinking two moves ahead prevents careless plays.</p>
        </div>
        <div class="tip-card">
          <div class="tip-number">5</div>
          <h4 data-i18n="tip5_title">Keep Some Empty Space</h4>
          <p data-i18n="tip5_desc">Aim to have 2â€“4 open cells. Too many empties slow momentum; too few and you'll block merges. A mostly full board with room to slide keeps you on track for that final 2048 merge.</p>
        </div>
      </div>
      
      <div class="key-takeaway">
        <div class="takeaway-icon">ğŸ¯</div>
        <div class="takeaway-content">
          <strong data-i18n="key_takeaway">Key Takeaway:</strong> <span data-i18n="key_takeaway_desc">Anchor, snake pattern, twoâ€‘direction rule, and thoughtful merges are your blueprint for hitting 2048. Good luck!</span>
        </div>
      </div>
    </div>
  </div>

  <script src="js/i18n.js?v=20250804114215"></script>
  <script src="js/bind_polyfill.js?v=20250804114215"></script>
  <script src="js/classlist_polyfill.js?v=20250804114215"></script>
  <script src="js/animframe_polyfill.js?v=20250804114215"></script>
  <script src="js/keyboard_input_manager.js?v=20250804114215"></script>
  <script src="js/html_actuator.js?v=20250804114215"></script>
  <script src="js/grid.js?v=20250804114215"></script>
  <script src="js/tile.js?v=20250804114215"></script>
  <script src="js/local_storage_manager.js?v=20250804114215"></script>
  <script src="js/game_manager.js?v=20250804114215"></script>
  <script src="js/application.js?v=20250804114215"></script>
  
  <!-- æ–°æ¸¸æˆå¯¹è¯æ¡†æ§åˆ¶ -->
  <script>
    let selectedCorner = null;

    function showNewGameDialog() {
      console.log('showNewGameDialog called'); // è°ƒè¯•ä¿¡æ¯
      const dialog = document.getElementById('new-game-dialog');
      console.log('dialog element:', dialog); // è°ƒè¯•ä¿¡æ¯
      
      if (!dialog) {
        console.error('Dialog element not found!');
        return;
      }
      
      dialog.classList.add('show');
      console.log('Dialog classes after adding show:', dialog.className); // è°ƒè¯•ä¿¡æ¯
      
      // åœ¨ç§»åŠ¨ç«¯ï¼Œé˜»æ­¢å¯¹è¯æ¡†ä»¥å¤–çš„è§¦æ‘¸æ»šåŠ¨
      if ('ontouchstart' in window) {
        document.body.style.overflow = 'hidden';
        
        // ç‚¹å‡»å¯¹è¯æ¡†å¤–éƒ¨å…³é—­
        dialog.addEventListener('touchstart', function(e) {
          if (e.target === dialog) {
            hideNewGameDialog();
          }
        }, { once: true });
      }
    }

    function hideNewGameDialog() {
      document.getElementById('new-game-dialog').classList.remove('show');
      document.body.style.overflow = '';
    }

    // é€‰æ‹©è§’è½ä½ç½®
    document.querySelectorAll('.corner-btn').forEach(btn => {
      function handleSelection() {
        // ç§»é™¤å…¶ä»–æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
        document.querySelectorAll('.corner-btn').forEach(b => b.classList.remove('selected'));
        // æ·»åŠ å½“å‰æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
        btn.classList.add('selected');
        // ä¿å­˜é€‰ä¸­çš„è§’è½åæ ‡
        selectedCorner = btn.getAttribute('data-corner').split(',').map(Number);
      }

      // æ·»åŠ ç‚¹å‡»äº‹ä»¶
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        handleSelection();
      });
      
      // æ·»åŠ è§¦æ‘¸äº‹ä»¶æ”¯æŒ
      btn.addEventListener('touchend', function(e) {
        e.preventDefault();
        handleSelection();
      });
      
      // é˜²æ­¢è§¦æ‘¸æ—¶çš„é»˜è®¤è¡Œä¸º
      btn.addEventListener('touchstart', function(e) {
        e.preventDefault();
      });
    });

    function startNewGame() {
      if (!selectedCorner) {
        alert(I18N.t('please_select_corner'));
        return;
      }

      const startNumber = document.getElementById('start-number').value;
      const cornerPosition = { x: selectedCorner[0], y: selectedCorner[1] };
      
      console.log('Selected corner array:', selectedCorner);
      console.log('Corner position object:', cornerPosition);
      console.log('Start number:', startNumber);

      // é‡å¯æ¸¸æˆ
      window.gameManager.restart(startNumber, cornerPosition);
      
      // éšè—å¯¹è¯æ¡†
      hideNewGameDialog();
      
      // é‡ç½®é€‰æ‹©çŠ¶æ€
      selectedCorner = null;
      document.querySelectorAll('.corner-btn').forEach(b => b.classList.remove('selected'));
    }
  </script>

  <!-- ç¤¾äº¤åª’ä½“åˆ†äº«åŠŸèƒ½ -->
  <script>
    // ç¼“å­˜æœ€å¤§å€¼
    window.currentMaxTile = 2;
    
    // æ›´æ–°æœ€å¤§å€¼ï¼ˆç”±æ¸¸æˆç®¡ç†å™¨è°ƒç”¨ï¼‰
    window.updateMaxTileValue = function() {
      // ç¡®ä¿æ¸¸æˆç®¡ç†å™¨å·²åˆå§‹åŒ–
      if (!window.gameManager) {
        console.log('æ¸¸æˆç®¡ç†å™¨æœªåˆå§‹åŒ–');
        return;
      }
      
      // ç¡®ä¿ç½‘æ ¼å·²åˆå§‹åŒ–
      if (!window.gameManager.grid) {
        console.log('ç½‘æ ¼æœªåˆå§‹åŒ–');
        return;
      }
      
      var cells = window.gameManager.grid.cells;
      var newMaxValue = 2;
      
      // éå†æ‰€æœ‰æ ¼å­
      for (var x = 0; x < cells.length; x++) {
        for (var y = 0; y < cells[x].length; y++) {
          var tile = cells[x][y];
          if (tile && tile.value > newMaxValue) {
            newMaxValue = tile.value;
          }
        }
      }
      
      // æ›´æ–°ç¼“å­˜çš„æœ€å¤§å€¼
      window.currentMaxTile = newMaxValue;
      console.log('æœ€å¤§å€¼å·²æ›´æ–°:', newMaxValue);
    };
    
    // è·å–æœ€å¤§çš„tileå€¼
    function getMaxTileValue() {
      // å¦‚æœæ¸¸æˆç®¡ç†å™¨å·²åˆå§‹åŒ–ï¼Œå¼ºåˆ¶æ›´æ–°ä¸€æ¬¡æœ€å¤§å€¼
      if (window.gameManager && window.gameManager.grid) {
        window.updateMaxTileValue();
      }
      return window.currentMaxTile;
    }
    
    // è·å–å½“å‰åˆ†æ•°
    function getCurrentScore() {
      return window.gameManager ? window.gameManager.score : 0;
    }
    
    // ç”Ÿæˆåˆ†äº«æ–‡æ¡ˆ
    function generateShareText() {
      var score = getCurrentScore();
      var maxTile = getMaxTileValue();
      var baseText = "";
      
      if (score > 0) {
        baseText = I18N.t("share_text_with_score", {score: score.toLocaleString(), maxTile: maxTile});
      } else {
        baseText = I18N.t("share_text_no_score", {maxTile: maxTile});
      }
      
      return baseText + " www.play2048online.com";
    }
    
    // Twitteråˆ†äº«
    function shareToTwitter() {
      var text = generateShareText();
      var url = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(text);
      window.open(url, '_blank', 'width=550,height=420');
    }
    
    // Facebookåˆ†äº«
    function shareToFacebook() {
      var text = generateShareText();
      var url = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent("https://www.play2048online.com") + "&quote=" + encodeURIComponent(text);
      window.open(url, '_blank', 'width=580,height=296');
    }
    
    // LinkedInåˆ†äº«
    function shareToLinkedIn() {
      var text = generateShareText();
      var url = "https://www.linkedin.com/sharing/share-offsite/?url=" + encodeURIComponent("https://www.play2048online.com") + "&title=" + encodeURIComponent("2048 Game") + "&summary=" + encodeURIComponent(text);
      window.open(url, '_blank', 'width=520,height=570');
    }
    
    // Redditåˆ†äº«
    function shareToReddit() {
      var text = generateShareText();
      var title = "My 2048 Game Score: " + getCurrentScore().toLocaleString() + " points!";
      var url = "https://www.reddit.com/submit?url=" + encodeURIComponent("https://www.play2048online.com") + "&title=" + encodeURIComponent(title) + "&text=" + encodeURIComponent(text);
      window.open(url, '_blank', 'width=600,height=500');
    }
    
    // Pintereståˆ†äº«
    function shareToPinterest() {
      var text = generateShareText();
      var url = "https://pinterest.com/pin/create/button/?url=" + encodeURIComponent("https://www.play2048online.com") + "&description=" + encodeURIComponent(text);
      window.open(url, '_blank', 'width=750,height=320');
    }
  </script>
  
  <footer>
    <span data-i18n="copyright">Copyright 2025 Â© PLAY 2048 ONLINE. All rights reserved.</span>
  </footer>
  <div style="display: none;">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B30V9ME43C"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-B30V9ME43C');
    </script>
    
  </div>
</body>
</html>
